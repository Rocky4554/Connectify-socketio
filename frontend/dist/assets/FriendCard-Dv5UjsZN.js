import{a1 as d,a2 as m,j as s,L as x,a3 as h,a4 as u,a5 as g,a6 as p}from"./index-Ds9Mb9jD.js";const N=({friend:a})=>{const e=d(),{chats:t,onlineUsers:c}=m(l=>l.user);console.log("oneline users:",c);const i=c==null?void 0:c.includes(a._id),o=async l=>{try{const{data:n}=await u.post("/chat",{userId:l});t.find(r=>r._id===n._id)||e(g([n,...t])),e(p(n))}catch(n){console.log(n.message)}};return s.jsx("div",{className:"card bg-base-200 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"card-body p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"avatar size-12",children:s.jsx("img",{src:a.profilePic,alt:a.fullName})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold truncate",children:a.fullName}),i&&s.jsx("span",{className:"inline-flex items-center justify-center bg-green-500 text-white text-[10px] font-medium px-2 py-0.5 rounded-full mt-1",children:"Online"})]})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:s.jsxs("span",{className:"badge badge-secondary text-xs",children:[j(a.nativeLanguage),"Native: ",a.nativeLanguage]})}),s.jsx(x,{to:"/chatbox",children:s.jsx("button",{className:"btn btn-outline w-full",onClick:()=>o(a._id),children:"Start Chat"})})]})})};function j(a){if(!a)return null;const e=a.toLowerCase(),t=h[e];return t?s.jsx("img",{src:`https://flagcdn.com/24x18/${t}.png`,alt:`${e} flag`,className:"h-3 mr-1 inline-block"}):null}export{N as F,j as g};
